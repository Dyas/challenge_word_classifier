Sorry, but i have no time for cleaning code and any good description.

This code is very simple. It searches for all unique 4-characters combinations in all of positions and saves it in bit matrix [combination, position]. 
For reducing dictionary it also replaces all rare characters to "'", because all of this do not significant effect.
Also had some space in my data file and i've included some words which erroneously recognized by my script just for fortune :)