function BloomFilter(t,n){var r;"number"!=typeof t&&(r=t,t=32*r.length);var e=Math.ceil(t/32),o=-1;if(this.m=t=32*e,this.k=n,typedArrays){let i=1<<Math.ceil(Math.log(Math.ceil(Math.log(t)/Math.LN2/8))/Math.LN2),s=1===i?Uint8Array:2===i?Uint16Array:Uint32Array,l=new ArrayBuffer(i*n),u=this.buckets=new Int32Array(e);if(r)for(;++o<e;)u[o]=r[o];this._locations=new s(l)}else{let t=this.buckets=[];if(r)for(;++o<e;)t[o]=r[o];else for(;++o<e;)t[o]=0;this._locations=[]}}function popcnt(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),16843009*(t+(t>>4)&252645135)>>24}function fnv_1a(t){for(var n=2166136261,r=0,e=t.length;e>r;++r){var o=t.charCodeAt(r),i=65280&o;i&&(n=fnv_multiply(n^i>>8)),n=fnv_multiply(n^255&o)}return fnv_mix(n)}function fnv_multiply(t){return t+(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)}function fnv_1a_b(t){return fnv_mix(fnv_multiply(t))}function fnv_mix(t){return t+=t<<13,t^=t>>>7,t+=t<<3,t^=t>>>17,t+=t<<5,4294967295&t}function removePermPosition(t,n,r,e){e.forEach((e=>n[(r?"starts":"ends")+"With"](e)?t.push(n.substring(r?e.length:0,r?n.length:n.length-e.length)):null))}function init(n){const r=JSON.parse(n).arr;t=new BloomFilter(r,2)}function test(e){let o=[];if(e=e.replace("\\'","'"),o.push(e),removePermPosition(o,e,!0,r),removePermPosition(o,e,!1,n),console.log("perms",o),0===o.length)return!1;o=o.map((t=>e.replace(/[eiou]/g,"a").substring(2,e.length>4?e.length-2:e.length)));let i=o.reduce(((n,r)=>n||!!t.test(r)),!1);return i}let t=null;var typedArrays="undefined"!=typeof ArrayBuffer;BloomFilter.prototype.locations=function(t){for(var n=this.k,r=this.m,e=this._locations,o=fnv_1a(t),i=fnv_1a_b(o),s=o%r,l=0;n>l;++l)e[l]=0>s?s+r:s,s=(s+i)%r;return e},BloomFilter.prototype.add=function(t){for(var n=this.locations(t+""),r=this.k,e=this.buckets,o=0;r>o;++o)e[Math.floor(n[o]/32)]|=1<<n[o]%32},BloomFilter.prototype.test=function(t){for(var n=this.locations(t+""),r=this.k,e=this.buckets,o=0;r>o;++o){var i=n[o];if(0===(e[Math.floor(i/32)]&1<<i%32))return!1}return!0},BloomFilter.prototype.size=function(){for(var t=this.buckets,n=0,r=0,e=t.length;e>r;++r)n+=popcnt(t[r]);return-this.m*Math.log(1-n/this.m)/this.k};const n=["'s","ed","s","es","ing","ness","er","d"],r=["un","pro","pre","re","in","hyper"];module.exports.init=init,module.exports.test=test;
