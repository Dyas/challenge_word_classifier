var f,h;function k(a,b){for(var c=0,d=0;4>d;d++)c+=a[b+d]<<8*d;return c}function l(a,b){for(var c=0,d=0,e=[];c<=b;){var g=k(a,d),d=d+4;if(c==b){e=[];for(c=0;c<g;c++)e.push(a[d+c]);break}d+=g;c++}return e}function m(a){var b="",c={},d;for(d in a)b+=String.fromCharCode(a[d]);b.split("\r\n").forEach(function(a){a&&(c[a]=!0)});return c}var n,p,q,r;
function t(a){var b={a:a,status:0};if(!a||a.length>r)return b;if(1==a.length)return"a"<=a[0]&&"z">=a[0]&&(b.status=1),b;if(2==a.length)return b.status=null==n[a]?1:0,b;var c=a.substring(0,2);if(null==q[c])return b;for(var d=[],e=1;e<a.length-1;e++){var c=a.substring(e),g=a.substring(0,e);p[c]&&d.push({key:g,value:p[c]})}if(0<d.length){a=d[0];for(e=1;e<d.length;e++)d[e].value>a.value&&(a=d[e]);b.a=a.key}b.status=2;return b}
exports.init=function(a){r=k(l(a,0),0);h=k(l(a,0),4);f=l(a,1);n=m(l(a,2));p=m(l(a,3));q=m(l(a,4))};exports.test=function(a){a=t(a.toLowerCase().trim());var b;if(0==a.status)b=!1;else if(1==a.status)b=!0;else{a=a.a;var c=0;if(0!=a.length)for(b in a)var d=a.charCodeAt(b),d=39!=d?d-95:1,c=47*c+d,c=c&c;b=c%h;b=0<b?b:-b;b=0!=(f[b/8|0]&1<<b%8)?!0:!1}return b};