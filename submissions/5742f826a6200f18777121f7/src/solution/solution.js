function Bloom(a){var d=new Uint8Array(a),c=8*(d.length-1),h=d[d.length-1];this.test=function(a){for(var m=[],e=0;e<h;e++){for(var l=e,k=a,n=k.length,b=e+32<<2+(e<<5)+(e<<15)^n,f=0,g;4<=n;)g=k.charCodeAt(f)&255|(k.charCodeAt(++f)&255)<<8|(k.charCodeAt(++f)&255)<<16|(k.charCodeAt(++f)&255)<<24,g=1540483477*(g&65535)+((1540483477*(g>>>16)&65535)<<16),g^=g>>>24,g=1540483477*(g&65535)+((1540483477*(g>>>16)&65535)<<16),b=1540483477*(b&65535)+((1540483477*(b>>>16)&65535)<<16)^g,n-=4,++f;switch(n){case 3:b^=
(k.charCodeAt(f+2)&255)<<16;case 2:b^=(k.charCodeAt(f+1)&255)<<8;case 1:b^=k.charCodeAt(f)&255,b=1540483477*(b&65535)+((1540483477*(b>>>16)&65535)<<16)}b^=b>>>13;b=1540483477*(b&65535)+((1540483477*(b>>>16)&65535)<<16);m[l]=((b^b>>>15)>>>0)%c}for(a=0;a<h;a++)if(e=m[a],0===(d[Math.floor(e/8)]&1<<e%8))return!1;return!0}}
function Matrix(a){function d(a,c){var b={"byte":0,bit:0};if(a.length!==h)return b["byte"]=-1,b;var d=h;a.split("").forEach(function(a){d--;a=a.charCodeAt(0)-96;b["byte"]=0==d?b["byte"]+(a*p+Math.floor(c/8)):b["byte"]+a*e[d]});b.bit=c%8;return b}var c=new Uint8Array(a),h=c[c.length-2],p=Math.ceil((c[c.length-1]+1)/8),m=8*p;a=27*p;for(var e=[0],l=1;l<h;l++)e[l]=a,a*=27;this.test=function(a){for(var e=a.length-h+1,b=0;b<e;b++){var f=a.slice(0,1)+a.slice(b+1,b+h),g=d(f,b);if(-1!==g["byte"]&&!(c[g["byte"]]&
1<<g.bit)||b+1==e&&(f=d(f,m-1),!(c[f["byte"]]&1<<f.bit)))return!1}return!0}}var bloom,bloomEx,matrix;
function checkException(a){return 1==a.length&&a.match(/^[a-z]{1,1}$/g)||2==a.length&&a.match(/(a[a-z])|(b[a-ik-pr-z])|(c[a-wy-z])|(d[a-z])|(e[a-il-z])|(f[a-gil-pr-z])|(g[a-eg-ik-wy])|(h[a-wy-z])|(i[a-gi-z])|(j[ac-egi-jlo-pr-vy])|(k[a-egi-jl-pr-wy])|(l[a-jl-pr-z])|(m[a-pr-y])|(n[a-jl-mo-wy-z])|(o[a-pr-z])|(p[a-ik-y])|(q[a-fh-il-np-vy])|(r[a-jl-y])|(s[a-y])|(t[a-eg-ik-pr-y])|(u[a-dg-ik-npr-x])|(v[a-gi-jl-pr-x])|(w[a-ik-mo-pr-wy])|(x[a-eiln-x])|(y[a-bd-fim-pr-vy])|(z[a-bdgik-ln-or-uz])/g)?!0:bloomEx.test(a)}
function simpleCheck(a){return a.match(/[^a-z\']/g)||a.match(/\'\'/g)||a.match(/^\'/g)||a.match(/\'.{2,}$/g)||a.match(/^.{1,2}$/g)?!1:!a.match(/\'[a-rt-z]+$/g)}exports.init=function(a){var d,c;c=0;d=a.readUInt16LE(c);c+=2;bloom=new Bloom(a.slice(c,c+d));c+=d;d=a.readUInt16LE(c);c+=2;bloomEx=new Bloom(a.slice(c,c+d));c+=d;d=a.readUInt16LE(c);c+=2;matrix=new Matrix(a.slice(c,c+d))};var PREFIX_SIZE=7;
exports.test=function(a){if(simpleCheck(a)){var d=a.replace(/\'s$/g,"`");a=matrix.test(d);var c=!0,d=d.slice(0,PREFIX_SIZE);d.length>=PREFIX_SIZE&&(c=bloom.test(d));return a&&c}return checkException(a)};