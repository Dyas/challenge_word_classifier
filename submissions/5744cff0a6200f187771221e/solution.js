function Node(l){var res = {n:[],e:false,l:l};for(var i=0;i<27;i++)res.n[i]=null;return res;}var gNode=Node(0);function f1(N,a,p,l){if(l< N.l)return;if(l==N.l){N.e=a[p.val++]=='1';for(var i=0;i<27;i++){c=a[p.val++];if (c == '1'){N.n[i] = Node(l+1);}}return;}for(var i=0;i<27;i++){if(N.n[i]!=null){f1(N.n[i],a,p,l);}}}exports.Init=function Init(a){var s1=[];var s1_p=0;for(var i=0;i<a.length;i++){if(a[i]<97){s1[s1_p++]=a[i]+57;s1[s1_p++]=a[i]+57;}else{s1[s1_p++]=a[i];}}var ser=[];var ser_p=0;for(var i=0;i<s1.length;i++){var c=s1[i];for(var j=0;j<(c-97);j++){ser[ser_p++]="0";}ser[ser_p++]="1";}for(var i=0;i<27;i++)gNode.n[i]=null;var l=0;var p={val:0};f1(gNode,ser,p,l);while(l<5){for(var i=0;i<26;i++){if(gNode.n[i]!=null)f1(gNode.n[i],ser,p,l)}l++;}} 
function to_index(c){if(c>="a"&&c<="z")return c.charCodeAt(0)-"a".charCodeAt(0);return 26;}function f2(N,s){if(!s.length)return N.e;if((N.l+1)==5){return N.n[to_index(s)] != null;}if(N.n[to_index(s)]!=null)return f2(N.n[to_index(s)],s.slice(1));return false;}exports.Test = function Test(word){if(!f2(gNode,word))return false;var reg=[];reg[0]=/'[\w]*'/;reg[1]=/[q,w,r,t,p,s,d,f,g,h,j,k,l,z,x,c,v,b,n,m,']{5,}/;reg[2]=/(\w)(\1)(\1)/;for(var i=0;i<3;i++)if(word.search(reg[i])!=-1)return false;if(word.length>19)return false;return true;}