"use strict";function initPatterns(){for(var t=0,e=0;e<alphabet.length;e++)10==t||13==t?(patterns.push(""),e--):patterns.push(alphabet[e]),t++;for(var e=0;e<alphabet.length;e++)for(var n=0;n<alphabet.length;n++){var r=alphabet[e]+alphabet[n];unpatterns.has(r)||patterns.push(r)}for(var e=0;e<alphabet.length;e++)for(var n=0;n<alphabet.length;n++)for(var f=0;f<alphabet.length;f++)patterns.push(alphabet[e]+alphabet[n]+alphabet[f])}function refillUnpatterns(){for(var t=0;t<alphabet.length;t++)for(var e=0;e<alphabet.length;e++)for(var n=0;n<alphabet.length;n++){var r=alphabet[t]+alphabet[e]+alphabet[n];unpatterns.has(r)||unpatterns.has(alphabet[t]+alphabet[e])||unpatterns.has(alphabet[e]+alphabet[n])||init_dictionary.add(r)}}function initStartDictionary(t,e){init_dictionary=new Set(t),e.forEach(function(t){for(var e=t.charCodeAt(0),n=patterns[e],r=1;r<t.length;r++){var f=t.charCodeAt(r),i=patterns[f],a=n+i;3==a.length?unpatterns.add(a):init_dictionary.add(a)}})}function cutOffPrefix(t,e,n){var r=t.substr(0,e),f=n?prefixes:words;return f.has(r)?isWordInDictionary(t.substr(e)):!1}function cutOffSuffix(t,e){var n=t.substr(t.length-e);return suffixes.has(n)?isWordInDictionary(t.substr(0,t.length-e)):!1}function isWordInDictionary(t){return dictionary.has(t)||init_dictionary.has(t)?!0:(dictionary.add(t),!1)}function checkPatternSet(t){return consistPattern(t,2)?!0:consistPattern(t,3)}function consistPattern(t,e){for(var n=t.length-(e-1),r=0;n>r;r++)if(unpatterns.has(t.substr(r,e)))return!0;return!1}function testPuasson(t,e){var n=t.slice(0,2),r=t.slice(2),f=1,i=t.length;if(!e[n])return-1;if(!e[n][i])return-3;for(var a=0;a<r.length;a++){if(!e[n][i][r[a]])return-2;f+=e[n][i][r[a]]}return 10*f}var dictionary=new Set,init_dictionary=new Set,prefixes=new Set,words=new Set,suffixes=new Set,unpatterns=new Set,true_patterns=new Set,alphabet=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","'"],patterns=[];module.exports={init:function(t){var e=t.toString(),n=e.split("\n");prefixes=new Set(n[0].split("	"));var r=n[1].split("	");words=new Set(r),suffixes=new Set(n[2].split("	")),unpatterns=new Set(n[3].split("	")),n.splice(0,4),initPatterns(),initStartDictionary(r,n),refillUnpatterns()},test:function(t){t=t.toLowerCase();var e=t.indexOf("'");if(-1!=e&&e!=t.length-2||-1!=e&&e==t.length-2&&"s"!=t[t.length-1])return!1;if((5==t.length||4==t.length)&&!~t.indexOf("'"))return init_dictionary.has(t);if(isWordInDictionary(t))return!0;var n="";if(t.lastIndexOf("'s")==t.length-2&&t.length>2&&(n=t.substr(0,t.length-2)),n&&isWordInDictionary(n))return!0;if(cutOffPrefix(t,11)||cutOffPrefix(t,10)||cutOffPrefix(t,9)||cutOffPrefix(t,8)||cutOffPrefix(t,7)||cutOffPrefix(t,6)||cutOffPrefix(t,5)||cutOffPrefix(t,4)||cutOffPrefix(t,3)||cutOffPrefix(t,2))return!0;if(t.length>7){if(cutOffSuffix(t,13)||cutOffSuffix(t,12)||cutOffSuffix(t,11)||cutOffSuffix(t,10)||cutOffSuffix(t,9)||cutOffSuffix(t,8)||cutOffSuffix(t,7)||cutOffSuffix(t,6)||cutOffSuffix(t,5)||cutOffSuffix(t,4)||cutOffSuffix(t,3))return!0;if(cutOffPrefix(t,4,"prefix")||cutOffPrefix(t,3,"prefix")||cutOffPrefix(t,2,"prefix"))return!0;if(dictionary.size>122e3)return!1}return t.length>=13?!1:checkPatternSet(t)?!1:t.length<3&&!~t.indexOf("'")?!0:t.length>5}};