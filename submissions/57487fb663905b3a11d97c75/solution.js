var bloomfilter={};
(function(a){function c(d,a){var c;"number"!==typeof d&&(c=d,d=32*c.length);var h=Math.ceil(d/32),f=-1;this.m=d=32*h;this.k=a;if(m){var e=1<<Math.ceil(Math.log(Math.ceil(Math.log(d)/Math.LN2/8))/Math.LN2),g=1===e?Uint8Array:2===e?Uint16Array:Uint32Array,e=new ArrayBuffer(e*a),k=this.buckets=new Int32Array(h);if(c)for(;++f<h;)k[f]=c[f];this._locations=new g(e)}else{k=this.buckets=[];if(c)for(;++f<h;)k[f]=c[f];else for(;++f<h;)k[f]=0;this._locations=[]}}function g(d){for(var a=2166136261,c=0,h=d.length;c<
h;++c){var f=d.charCodeAt(c),g=f&65280;g&&(a=e(a^g>>8));a=e(a^f&255)}return l(a)}function e(d){return d+(d<<1)+(d<<4)+(d<<7)+(d<<8)+(d<<24)}function k(d){return l(e(d))}function l(d){d+=d<<13;d^=d>>>7;d+=d<<3;d^=d>>>17;return d+(d<<5)&4294967295}a.BloomFilter=c;a.fnv_1a=g;a.fnv_1a_b=k;var m="undefined"!==typeof ArrayBuffer;c.prototype.locations=function(d){var a=this.k,c=this.m,h=this._locations,f=g(d);d=k(f);for(var f=f%c,e=0;e<a;++e)h[e]=0>f?f+c:f,f=(f+d)%c;return h};c.prototype.add=function(d){d=
this.locations(d+"");for(var a=this.k,c=this.buckets,e=0;e<a;++e)c[Math.floor(d[e]/32)]|=1<<d[e]%32};c.prototype.test=function(d){d=this.locations(d+"");for(var a=this.k,c=this.buckets,e=0;e<a;++e){var f=d[e];if(0===(c[Math.floor(f/32)]&1<<f%32))return!1}return!0};c.prototype.size=function(){for(var d=this.buckets,a=0,c=0,e=d.length;c<e;++c)var f=d[c],f=f-(f>>1&1431655765),f=(f&858993459)+(f>>2&858993459),a=a+(16843009*(f+(f>>4)&252645135)>>24);return-this.m*Math.log(1-a/this.m)/this.k}})(bloomfilter);
var ERROR_THRESHOLD=1.6325,bloom=null,removeAll=function(a,c){for(var g=2>=arguments.length||void 0===arguments[2]?!0:arguments[2],e=function(){var e=0;c.forEach(function(c){var g=a;a=a.replace(c,"");a!==g&&e++});if(0===e||""===a)return"break"};g&&"break"!==e(););return a},stem=function(a){a=removeAll(a,[/^under/,/^inter/,/^semi/,/^over/,/^anti/,/^out/,/^non/,/^un/]);return a=removeAll(a,[/ness$/,/ment$/,/less$/,/able$/,/ist$/,/ing$/,/ful$/,/est$/,/ly$/,/er$/,/ed$/,/s$/,/'$/])},hashWord=function(a){return stem(a)},
b="'serinesonantiteisenatrealrileraarnestliroicorngntlaseitedconiiassmacadecheltotaunlliohemetrnausloasiloldietacnosimithoupehaomiephhinsveeahoosndurceide'lyopamulotprpamoncrsposhgeecabemsacidan'ocadapbapiblbeogscbisua'rtctsoumdos'utagvigakesmgispimaeooeecrodepboirckr'graitshyrytuigivttcuipfitylubrplrurdaumprmrrwat'ovy'qukiburcvagooifoifdrnncleiowfegleoobrnubucupeuexmbibmuegptuiuaguwewirghrpsflfaavylpultwouekaevoayslsakuddupphummayfuefdscyypebm'numsrpslffldghrbtlfrizrld'l'zegsg'oeeysysniunfynewyamygndlughtikahnkvoskycccymafo'rkawksytokyrofi'ggh'ddjarhxizayezotcnygyoxdyrvhlbbyoziazkonplmpynvk'swnrehbswhdnrfnljuydlpjolcnbkljewnyiaxnhoyftnmhnlvlnhsohtwcsc'dgxehmlblfufsblkxtmnsqxaekrwtmuoyglgoznwixbyknp'tnkyeqwskuukgmxpkhwrxodmsvtzzzfyiitfxywlnzezkrdwybdhtbjiaoaasfnjhwuviqu'xcdbajuxmcpnx'ihvuzytpaqdvmlnqbdbtsdw'fsuzlwejdfyuf'gtkwbchbywlhsrktoqsgtgkmkbgwb'cnwbwyz'wddtmfxudczldjhflrbmgbpmzubjyfbhuydprzyxkftdmrpbijyhkkwtwkojcqpfiwhpwmyvrjgduhiybnpcvypwrqhdhcbpxhvrwutvkpmdwfmtykyzgfhkv'bfvsujwpmwbvcdcmhhpdnxtkbwmhhgmvwcxskvkdhvlzgpkcdzuuvltjzhfnpkwwczszbgpgcpfmgcmgsjuquwxlfcdkgkqavvzbcgmkcbwgfbzmkgxbfdxfxmbkfhcfzkvnzsfpkjfwljzwztznfgqi'axwfk'dzdcwzczrhzvdvtpvpjlqgjvkj'mjwzzv'tjnjsvchjgvgzjrrxyyzpcvhqmzxdwvyjxvzgjdq'xn'elx'ldqqsjcvmjytqvgxx'c'ijkxr'nbzfjjpvpxgjhjlvhxq'oqemqjjqrzf'r'vbqjmjtyqzqpzqowj'h'mdxmxqqqttxvfvzbxfvqlfzjfjgjwpqqmqwqdsx'pcjgqjbkqqbqn'b'f'ucxfxjvkzqkxk'g'kfqpxqcqfqvvbvwvxxz'wkxqpqyzjqgqhwq'ygxhxvjwxjqjxjzqjqxqzvqxjzx'j'q'x'z''",
bigrams=b.match(/../g),instaReject=function(a){if(15<a.length)return!0;if(1>=arguments.length||void 0===arguments[1]||!arguments[1]){for(var c=0,g=0;g<a.length-1;g++){var e=a.slice(g,g+2),e=bigrams.indexOf(e);-1<e&&(e=(e+1)/bigrams.length,c+=(e+1)*(e+1))}c/=a.length;if(c>=ERROR_THRESHOLD)return!0}c=(a.match(/[aeiou]/g)||[]).length;c/=a.length-c;return 13<a.length&&.4>c||a.match(/'/)&&!a.match(/(?:'ve|'ll|'s|n't)$/)?!0:!1};exports.filename="buckets";
exports.test=function(a){return!instaReject(a)&&bloom.test(hashWord(a))};exports.init=function(a){bloom=new bloomfilter.BloomFilter(489888,1);bloom._locations={0:56622};for(var c=0;61236>c;c+=4){var g=a.readInt32LE(c);bloom.buckets[c/4]=g}};
